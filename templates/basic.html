{% extends "layout.html" %}
{% block content %}
<div class="card p-4">
    <div class="d-flex align-items-center mb-4">
        <div class="bg-primary-soft text-primary p-2 rounded-3 me-3">
            <i class="bi bi-sliders2-vertical fs-4"></i>
        </div>
        <h5 class="fw-bold m-0">基础功能配置</h5>
    </div>

    <form id="basicForm">
        <input type="hidden" name="sid" value="{{sid}}">
        <input type="hidden" name="gid" value="{{gid}}">
        
        <div class="mb-4">
            <label class="small fw-bold text-muted mb-2 d-block">机器人服务状态</label>
            <div class="form-check form-switch p-0 d-flex align-items-center">
                <input class="form-check-input ms-0 me-2" type="checkbox" name="is_on" {% if g[2] %}checked{% endif %} style="width: 45px; height: 22px;">
                <label class="form-check-label">开启机器人响应</label>
            </div>
        </div>

        <div class="row g-3">
            <div class="col-md-6">
                <label class="small fw-bold text-muted">群组显示名称</label>
                <input type="text" name="group_name" class="form-control" value="{{g[1]}}">
            </div>
            <div class="col-md-6">
                <label class="small fw-bold text-muted">指令自动删除时间 (秒)</label>
                <input type="number" name="del_sec" class="form-control" value="{{g[11] or 0}}" placeholder="0 为不删除">
                <div class="form-text mt-1">设置后，用户指令和机器人回复将定时消失。</div>
            </div>
        </div>

        <hr class="my-4 opacity-50">
        
        <div class="d-flex justify-content-between align-items-center">
            <span class="text-muted small"><i class="bi bi-info-circle me-1"></i> 修改后即刻生效，无需重启机器人</span>
            <button type="button" onclick="ajaxSubmit('basicForm', '/api/save')" class="btn btn-primary px-5 rounded-pill shadow-sm">
                保存全局设置
            </button>
        </div>
    </form>
</div>
{% endblock %}
